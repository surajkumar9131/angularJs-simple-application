!function(){"use strict";angular.module("assignment",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ui.bootstrap","toastr","ngStorage"])}(),function(){"use strict";function e(){return{}}angular.module("assignment").factory("UserService",e)}(),function(){"use strict";function e(e){var t=this;t.userDetails=e.userDetails,t.category=e.category,t.location=e.location,t.status=e.status}e.$inject=["HomeService"],angular.module("assignment").controller("UserViewController",e)}(),function(){"use strict";function e(){return{}}angular.module("assignment").factory("FormService",e)}(),function(){"use strict";function e(e,t,n,o){function a(e,t){e=parseFloat(e),t=parseFloat(t);var n=new google.maps.LatLng(e,t),o=o=new google.maps.Geocoder;o.geocode({latLng:n},function(e,t){t==google.maps.GeocoderStatus.OK&&e[1]&&(r.newUser.location=e[1].formatted_address,r.search())})}var r=this;t.callMap(),r.userDetails=o.userDetails,r.newUser={},r.addNewUser=function(){r.newUser.date=(new Date).toLocaleDateString("en-GB"),r.userDetails.push(r.newUser),n.success("New User added Successfully"),r.newUser={}},r.search=function(){r.apiError=!1,t.search(r.newUser.location).then(function(e){t.addMarker(e),r.newUser.lat=e.geometry.location.lat(),r.newUser.lng=e.geometry.location.lng(),r.newUser.location=e.formatted_address},function(e){r.apiError=!0,r.apiStatus=e})},r.watchLatlong=function(e){var t=e.split(",");a(t[0],t[1])},t.registerCallBack(r.watchLatlong)}e.$inject=["UserService","HomeService","ToastrService","$sessionStorage"],angular.module("assignment").controller("UserFormController",e)}(),function(){"use strict";function e(e,t,n){function o(e){d=e}function a(e){var t={center:new google.maps.LatLng(19.0821976,72.7407546),zoom:4,disableDefaultUI:!0};u=new google.maps.Map(document.getElementById("map"),t),m=new google.maps.places.PlacesService(u),void 0!=e&&c(e)}function r(t){var n=function(){a(t),e.removeEventListener("load",n)};g?a(t):e.addEventListener("load",n)}function i(e){var n=t.defer();return m.textSearch({query:e},function(e,t){"OK"==t?n.resolve(e[0]):n.reject(t)}),n.promise}function s(e,t){var n=(e.getZoom(),t.latLng.toString());n=n.replace("(",""),n=n.replace(")",""),n=n.replace(" ",""),d(n)}function l(e){p&&p.setMap(null),p=new google.maps.Marker({map:u,position:e.geometry.location,animation:google.maps.Animation.DROP,draggable:!0}),google.maps.event.addListener(p,"dragend",function(e){s(u,e)}),u.setCenter(e.geometry.location)}function c(e){for(var t=0,n=e.length;n>t;t++){var o=e[t],a=new google.maps.LatLng(o.lat,o.lng);new google.maps.Marker({position:a,map:u,title:o.title})}}var u,m,d,g=!1;e.addEventListener("load",function(){g=!0});var p,h=[{id:1,name:"Technology"},{id:1,name:"Design"},{id:1,name:"Marketing"},{id:1,name:"Operations"}],v=[{id:1,name:"Pending"},{id:1,name:"Verified"}],f=[{id:1,name:"mumbai"},{id:1,name:"Delhi"},{id:1,name:"Hyderabad"},{id:1,name:"Pune"},{id:1,name:"Bangalore"}],w=[{name:"user 1",number:"9988776655",date:(new Date).toLocaleDateString("en-GB"),category:"Technology",location:"mumbai",status:"Verified",lat:19.0821976,lng:72.7411},{name:"user 2",number:"96725836655",date:(new Date).toLocaleDateString("en-GB"),category:"Marketing",location:"Delhi",status:"Verified",lat:28.692115,lng:76.8104654},{name:"user 3",number:"7653815134",date:(new Date).toLocaleDateString("en-GB"),category:"Technology",location:"Bangalore",status:"Pending",lat:12.953847,lng:77.3500492},{name:"user 4",number:"7652423",date:(new Date).toLocaleDateString("en-GB"),category:"Operations",location:"Hyderabad",status:"Pending",lat:17.4122996,lng:78.2676139},{name:"user 5",number:"8572476",date:(new Date).toLocaleDateString("en-GB"),category:"Design",location:"Pune",status:"Pending",lat:18.5245646,lng:73.7225358}];return n.userDetails=w,{initMap:a,search:i,addMarker:l,callMap:r,userDetails:w,category:h,status:v,location:f,registerCallBack:o}}function t(e){return{success:function(t,n){e.success(t,n)},error:function(t,n){e.error(t,n)}}}e.$inject=["$window","$q","$sessionStorage"],t.$inject=["toastr"],angular.module("assignment").factory("HomeService",e).factory("ToastrService",t)}(),function(){"use strict";function e(e,t,n,o){var a=this;a.userDetails=o.userDetails,t.callMap(a.userDetails),a.category=t.category,a.location=t.location,a.status=t.status,a.applyFilter=function(e,n){t.callMap(angular.copy(a.userDetails).filter(function(t){return e?t.status===(e&&e.name):!0}).filter(function(e){return n?e.category===(n&&n.name):!0}))},a.removeFilters=function(){n.go(n.current,{},{reload:!0})}}e.$inject=["$timeout","HomeService","$state","$sessionStorage"],angular.module("assignment").controller("HomeController",e)}(),function(){"use strict";function e(e){var t=this;t.showMenu=!1,t.showIcon=function(){t.showMenu=!t.showMenu},t.goToHomePage=function(){e.go("home",{},{reload:!0})}}e.$inject=["$state"],angular.module("assignment").controller("HeaderController",e)}(),function(){"use strict";function e(e){var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?libraries=places,geometry&sensor=false&key=AIzaSyDRPx762Cw8aHPXQb8qru7FvRCdAnGuSQA",t.type="text/javascript";var n=document.getElementsByTagName("head")[0];n.appendChild(t),e.debug("runBlock end")}e.$inject=["$log"],angular.module("assignment").run(e)}(),function(){"use strict";function e(e,t,n){e.state("home",{url:"/",views:{"@":{templateUrl:"app/main/main.html"},"header@home":{templateUrl:"app/components/header/header.html",controller:"HeaderController",controllerAs:"headCtrl"},"main-content@home":{templateUrl:"app/components/home/home.html",controller:"HomeController",controllerAs:"homeCtrl"}}}).state("home.user-form",{url:"^/user-form",views:{"main-content@home":{templateUrl:"app/components/user-form/form.html",controller:"UserFormController",controllerAs:"formCtrl"}}}).state("home.view-user",{url:"^/view-user",views:{"main-content@home":{templateUrl:"app/components/view-user/user.html",controller:"UserViewController",controllerAs:"userCtrl"}}}),n.html5Mode({enabled:!0,requireBase:!1}),t.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],angular.module("assignment").config(e)}(),angular.module("assignment").run(["$templateCache",function(e){e.put("app/main/main.html","<div ui-view=header></div><div class=main-content ui-view=main-content></div>"),e.put("app/components/header/header.html","<header><div class=head-icon ng-click=headCtrl.showIcon();><span ng-if=!headCtrl.showMenu>&#9776;</span><span ng-if=headCtrl.showMenu>&times;<span></span></span></div><div class=nav-menu ng-show=headCtrl.showMenu><div ng-click=headCtrl.goToHomePage();>Home</div><div ng-click=headCtrl.showIcon(); ui-sref=home.user-form>Add New User</div><div ng-click=headCtrl.showIcon(); ui-sref=home.view-user>View User</div></div></header>"),e.put("app/components/home/home.html",'<div class=home><div id=map></div><div class=filters><div><select ng-model=cat.name ng-options="cat.name for cat in homeCtrl.category" ng-change=homeCtrl.applyFilter(s.name,cat.name);><option value="" disabled selected>Select Category</option></select></div><div><select ng-model=s.name ng-options="s.name for s in homeCtrl.status" ng-change=homeCtrl.applyFilter(s.name,cat.name);><option value="" disabled selected>Select Status</option></select></div><div><div class=all-btn ng-click=homeCtrl.removeFilters();>All</div></div></div></div>'),e.put("app/components/user-form/form.html",'<div class=user-form><div class=form-section><div class=form-header><b>Add New User Details</b></div><form class=usr-form ng-submit=formCtrl.addNewUser();><div><label for=name>Name:</label><input type=text name=name id=name ng-model=formCtrl.newUser.name required></div><div><label for=number>Mobile Number:</label><input type=number name=number id=number ng-model=formCtrl.newUser.number required></div><div><label for=category>Category:</label><select name=category ng-model=formCtrl.newUser.category><option value="" selected disabled hidden>Select Category</option><option>Technology</option><option>Design</option><option>Marketing</option><option>Operations</option></select></div><div><label for=location>Search Location:</label><div class=input-group><input name=place type=text class=form-control ng-model=formCtrl.newUser.location required> <span class=input-group-btn><button class="btn btn-primary" type=button ng-click=formCtrl.search();>Search</button></span></div></div><button type=submit>Submit</button></form></div><div class=map-search><div id=map></div></div></div>'),e.put("app/components/view-user/user.html",'<div class=user-table><table><tr><th>Id</th><th>Date</th><th>User Details</th><th>Category</th><th>Status</th><th>Location</th></tr><tr ng-repeat="user in userCtrl.userDetails"><td>{{$index + 1}}</td><td>{{user.date}}</td><td>{{user.name}}, {{user.number}}, {{user.category}}</td><td><select name=category ng-model=user.category><option ng-repeat="cat in userCtrl.category">{{cat.name}}</option></select></td><td><select name=status ng-model=user.status><option value="" selected disabled hidden>Select Status</option><option ng-repeat="st in userCtrl.status">{{st.name}}</option></select></td><td><select name=location ng-model=user.location><option value="" selected disabled hidden>Select Location</option><option ng-repeat="user in userCtrl.userDetails">{{user.location}}</option></select></td></tr></table></div>')}]);
//# sourceMappingURL=../maps/scripts/app-ff04344292.js.map
